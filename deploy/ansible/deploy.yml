- name: Deploy AI QoS Platform to Minikube
  hosts: localhost
  vars:
    project_root: "{{ playbook_dir }}/../.."
  tasks:
    - name: Apply ML inference deployment
      command: kubectl apply -f {{ project_root }}/deploy/k8s/ml-inference-deployment.yaml

    - name: Apply ML inference service
      command: kubectl apply -f {{ project_root }}/deploy/k8s/ml-inference-service.yaml

    - name: Apply API gateway deployment
      command: kubectl apply -f {{ project_root }}/deploy/k8s/api-gateway-deployment.yaml

    - name: Apply API gateway service
      command: kubectl apply -f {{ project_root }}/deploy/k8s/api-gateway-service.yaml
